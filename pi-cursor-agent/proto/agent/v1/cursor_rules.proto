syntax = "proto3";

package agent.v1;

enum CursorRuleSource {
  CURSOR_RULE_SOURCE_UNSPECIFIED = 0;
  CURSOR_RULE_SOURCE_TEAM = 1;
  CURSOR_RULE_SOURCE_USER = 2;
}

message CursorRuleTypeGlobal {
}

message CursorRuleTypeFileGlobs {
  repeated string globs = 1;
}

message CursorRuleTypeAgentFetched {
  string description = 1;
}

message CursorRuleTypeManuallyAttached {
}

message CursorRuleType {
  oneof type {
    CursorRuleTypeGlobal global = 1;
    CursorRuleTypeFileGlobs file_globbed = 2;
    CursorRuleTypeAgentFetched agent_fetched = 3;
    CursorRuleTypeManuallyAttached manually_attached = 4;
  }
}

message CursorRule {
  string full_path = 1;
  string content = 2;
  CursorRuleType type = 3;
  CursorRuleSource source = 4;
  optional string git_remote_origin = 5;
  optional string parse_error = 6;
}
